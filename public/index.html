<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <div id="head" > </div>
    <div id="player-role" > </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
    var socket = io.connect('http://localhost:9000', { 'forceNew': true });

      socket.on('info', function (data) {
        console.log('info')
        renderInfo(data)
      })

      socket.on('role_assignment', function(data) {
        if(data.isDictator){
          document.getElementById('player-role').innerHTML=`
            <p id="role-message">You are the Dictator</p>
            <p>How much do you want to keep? <input name="keep" type="text" /></p>
             <button>Submit</button>`
        } else {
          document.getElementById('player-role').innerHTML=`<p id="role-message">You are a player, wait for the Dictator's endowment.</p>`

        }
      })

      function renderInfo(data){
        console.log(data)
        document.getElementById('head').innerHTML=`<p id="infoMessage">${data.info}</p>`

      }
    </script>
  </body>
</html>
